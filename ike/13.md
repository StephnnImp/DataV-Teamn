# `0x13` Sensors

Cluster `0x80` -> Broadcast `0xbf`

## Examples

    # High Cluster (IKE)
    80 06 BF 13 03 00 00 29
    80 06 BF 13 03 B0 00 99
    80 06 BF 13 00 00 00 2A
    80 06 BF 13 00 00 00 2A
    
    # High Cluster (IKI)
    80 0A BF 13 00 00 00 00 00 00 47 61
    80 0A BF 13 03 00 00 02 00 00 47 60
    80 0A BF 13 03 B0 00 02 00 00 47 D0
    80 0A BF 13 03 00 00 00 00 00 47 62
    80 0A BF 13 03 B0 00 00 00 00 47 D2
    80 0A BF 13 02 B0 00 00 00 00 47 D3
    80 0A BF 13 00 B0 00 00 00 00 47 D1
    80 0A BF 13 03 B0 00 02 00 00 47 D0
    80 0A BF 13 03 B0 00 00 00 00 47 D2
    80 0A BF 13 02 B0 00 00 00 00 47 D3
    80 0A BF 13 01 11 00 00 00 00 46 70
    80 0A BF 13 01 B1 00 00 00 00 46 D0


## Parameters

Fixed length. 3 byte bit field.

    # Byte 1
    
    HANDBRAKE     = 0b0000_0001   # Handbrake
    OIL_PRESSURE  = 0b0000_0010   # Oil Pressure
    BRAKE_PADS    = 0b0000_0100   # Brake Pads [1: fault]
    NA            = 0b0000_1000
    
    TRANSMISSION  = 0b0001_0000   # Transmission Program [1: fault]
    NA            = 0b0010_0000
    NA            = 0b0100_0000
    NA            = 0b1000_0000
    
    # Byte 2
    
    IGNITION      = 0b0000_0001 # [1: on]
    DOOR          = 0b0000_0010 # [1: open]
    NA            = 0b0000_0100
    NA            = 0b0000_1000
    
    GEAR          = 0b1111_0000
    
    # Byte 3
    
    AUX_VENT = 0b0000_1000

---

### Handbrake `0b0000_0001 << 16`

    HANDBRAKE_OFF    = 0
    HANDBRAKE_ON     = 1

### Oil Pressure `0b0000_0010 << 16`

    OIL_PRESSURE_OK     = 0
    OIL_PRESSURE_FAULT  = 1
    
### Brake Pads `0b0000_0100 << 16`

    BRAKE_PADS_OK     = 0
    BRAKE_PADS_FAULT  = 1

### Transmission `0b0000_0100 << 16`

*Transmission Emergency Program*.

    TRANSMISSION_OK     = 0
    TRANSMISSION_FAULT  = 1
   
---

### Ignition `0b0000_0001 << 8`

    IGNITION_OFF    = 0
    IGNITION_ON     = 1

### Door `0b0000_0010 << 8`

    DOOR_CLOSED = 0
    DOOR_OPEN   = 1

### Gear `0b1111_0000 << 8`

    GEAR_NONE       = 0b0000_0000   # <= KL-R
    GEAR_PARK       = 0b1011_0000
    GEAR_REVERSE    = 0b0001_0000
    GEAR_NEUTRAL    = 0b0111_0000
    GEAR_DRIVE      = 0b1000_0000
    GEAR_FIRST      = 0b0010_0000
    GEAR_SECOND     = 0b0110_0000
    GEAR_THIRD      = 0b1101_0000
    GEAR_FOURTH     = 0b1100_0000
    GEAR_FIFTH      = 0b1110_0000

---

### Aux. Ventilation `0b0000_1000`

    AUX_VENT_OFF    = 0
    AUX_VENT_ON     = 1

## Use Cases

### Check Control (High)

> The check control receives information from the IKE for the following messages.

> - Transmission emergency program
- Release parking brake- Check brake pad- Stop! Engine oil pressure