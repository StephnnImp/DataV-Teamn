# `0x40` OBC Input

GT `0x3b` â†’ Cluster `0x80`

This is applicable to vehicles equipped with BMBT.

_Whereas the MID requires the cluster to maintain state.. the GT can input full stuff._

### Examples

    3B 07 80 40 01 8A 2B 2D 71
    3B 07 80 40 02 19 03 14 F0
    3B 06 80 40 07 00 00 FA
    3B 06 80 40 09 00 14 E0
    3B 06 80 40 0D 27 0F D8
    3B 06 80 40 0F 8B 00 79
    3B 06 80 40 10 02 36 D9

## Properties

The message length will vary depending on the property ID.

Property|Index|Length|Type
:-------|:----|:-----|:---
**Property [ID]**|`0`|`1`|Bitfield
**Data**|`1`|`-1`|Various

### Property ID

ID|Property
:--|-------
`0x01`|Time
`0x02`|Date
`0x07`|Distance
`0x09`|Limit
`0x0d`|Code
`0x0f`|Aux. Timer 1
`0x10`|Aux. Timer 2

### Data

...

## Use Cases

### Date & Time

#### Time

- NO SECONDS
- fuck, it's format dependent

![Time Input](obc/obc_timer.jpg)

Data|Index|Length|Type|Range
:---|:----|:-----|:---|:---
**Hour**|`0`|`1`|Integer (SMR?)|`0x00..0x0b OR 0x80`
**Minute**|`1`|`1`|Integer|`0x00..0x3b`

    3B 07 80 40 01 00 00 00 FD    # 12:00:00am (00:00:00)
    80 00 00    # 12:00:00pm (12:00:00)
    3B 07 80 40 01 8B 3A 3B 77    # 11:00:00pm (23:00:00)
    00 3b 3b    # 12:59:59am (00:59:59)
    8b 3b 3b    # 11:59:59pm (23:59:5)

#### Date

not format dependent- always metric

`obc_var(field: FIELD_DATE, input: [day, month, year])`

![Date Input](obc/obc_timer.jpg)

### On-board Computer (OBC)

#### Distance

![OBC: Distance Input](obc/obc_timer.jpg)

#### Limit

![OBC: Limit Input](obc/obc_timer.jpg)

---

### Independent Ventilation and Heating

Similar to time, but seconds is omitted.

#### Aux Timer 1

![Aux Timers Input](obc/code_deactivation.jpg)
    
    3B 06 80 40 0F 81 00 73     # 01:00pm (13:00)
    3B 06 80 40 0F 8B 00 79     # 11:00pm (23:00)

#### Aux Timer 2

![Aux Timers Input](obc/code_deactivation.jpg)

    3b .. .. 40 10 ..

---

### Code

![Code Input](obc/code_deactivation.jpg)

Data|Index|Length|Type
:---|:----|:-----|:---
**Code**|`0`|`2`|Integer (16-bit)
    
    3b .. 80 40 0d 00 00 ..     # Code: 0000
    3b .. 80 40 0d 00 ff ..     # Code: 0255
    3b .. 80 40 0d 27 00 ..     # Code: 9984
    3b .. 80 40 0d 27 0f ..     # Code: 9999